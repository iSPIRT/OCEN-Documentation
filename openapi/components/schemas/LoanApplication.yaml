type: object
required:
  - loanApplicationId
properties:    
  createdDate:
    type: string
    description: The time when the loan application was created
  loanApplicationId:
    type: string
    description: UUID for the loan application. Generated by BA
  productId:
    type: string
    description: Specific loan product within the product type 
    enum:
      - PURCHASE_ORDER_FINANCING
      - INVOICE_FINANCING
  #TODO[sagar] - varify if this should be added
  # offers:
  #   type: array
  #   description: Offers given by lender for a  loan application
  #   items:
  #     $ref: Offer.yaml
  loanApplicationStatus:
    type: string
    description: Current status of the loan application.
    enum:
      - PROCESSING
      - OFFERED
      - OFFER_ACCEPTED
      - GRANTED
      - REJECTED
      - ACTION_REQUIRED
  borrower:
    $ref: Borrower.yaml
    description: Details of the Borrower
  #TODO: pledgedDocuments object array to be added
  collaterals:
    type: array
    description: Details of the instruments against which the user wishes to take a loan. If no data is there to be sent, an empty array block can be passed.
    items:
      $ref: Collateral.yaml
  guarantors:
    type: array
    description: List of guarantors that the borrowers have for the loan. If no data is there to be sent, an empty array block can be passed.
    items:
      $ref: Guarantor.yaml
  applicants:
    type: array
    description: List of applicants for the loan.  If no data is there to be sent, an empty array block can be passed
    items:
      $ref: Applicant.yaml
  lender:
    $ref: Lender.yaml
    description: Lender details
  kyc:
    $ref: KYC.yaml
    description: KYC details
  #TODO[sagar] - varify if this should be added
  # terms:
  #   $ref: LoanTerms.yaml
  #   description: Teerms of the loan agreement
  description:
    type: string
    maxLength: 1000
    description: A short description of the loan application
  url:
    type: string
    maxLength: 1000
    description: For any additional data  that needs to be passed as a link
  extensibleData:
    $ref: ExtensibleData.yaml
    description: For any additional data that needs to be added
  rejectionDetails:
    type: array
    items:
        $ref: RejectionDetail.yaml
    description: To be filled if the status of the loan is REJECTED. This object will have the details of why the loan application was rejected
  actionRequired:
    type: array
    items:
        $ref: ActionRequired.yaml
    description: To be filled if the status of the loan is ACTION_REQUIRED. This object captures the details of any action that the lender wants the borrower to do